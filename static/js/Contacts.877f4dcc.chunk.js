(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[2],{91:function(t,e,n){},92:function(t,e,n){},93:function(t,e,n){},94:function(t,e,n){},95:function(t,e,n){},98:function(t,e,n){"use strict";n.r(e);var a=n(28),c=n(29),r=n(31),o=n(30),s=n(0),i=n(14),u=n(99),l=n(67),b=n(55),j=n.n(b),d=n(15),f=n(56),h=n(57),m=n.n(h),p=n(17),O=n(22),v=function(t){return t.contacts.items},x=function(t){return t.contacts.filter},C=Object(O.a)([v,x],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),N=Object(O.a)([v,function(t,e){return e}],(function(t,e){return t.find((function(t){return t.id===e}))})),k=n(6),y=(n(90),n(91),n(1)),g={name:"",number:""},w=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){var t;Object(a.a)(this,n);for(var c=arguments.length,r=new Array(c),o=0;o<c;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state=Object(d.a)({},g),t.handlerChange=function(e){var n=e.target,a=n.value,c=n.name;t.setState(Object(k.a)({},c,a))},t.handlerSubmit=function(e){e.preventDefault();var n=t.state,a=n.name,c=n.number,r={name:a,number:c};if(t.props.contacts.some((function(t){return t.name.toLowerCase()===a.toLowerCase()})))return l.b.error("This contact is already exist"),t.setState(Object(d.a)({},g));t.props.addContact(r),t.setState(Object(d.a)({},g))},t}return Object(c.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number;return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("form",{className:"form",onSubmit:this.handlerSubmit,children:[Object(y.jsxs)("label",{className:"form_label",children:["Name",Object(y.jsx)("input",{className:"form_input",type:"text",name:"name",value:e,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",placeholder:"John Smith",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f.",required:!0,onChange:this.handlerChange})]}),Object(y.jsxs)("label",{className:"form_label",children:["Number",Object(y.jsx)("input",{className:"form_input",type:"tel",name:"number",value:n,pattern:"(\\+?( |-|\\.)?\\d{1,2}( |-|\\.)?)?(\\(?\\d{3}\\)?|\\d{3})( |-|\\.)?(\\d{3}( |-|\\.)?\\d{3})",placeholder:"+48-796-287-373",title:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0438\u0437 11-12 \u0446\u0438\u0444\u0440 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0446\u0438\u0444\u0440\u044b, \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0442\u0438\u0440\u0435, \u043f\u0443\u0437\u0430\u0442\u044b\u0435 \u0441\u043a\u043e\u0431\u043a\u0438 \u0438 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 +",required:!0,onChange:this.handlerChange})]}),Object(y.jsx)("button",{type:"submit",className:"form_button",children:"Add contact"})]})})}}]),n}(s.Component),_={addContact:function(t){return function(){var e=Object(f.a)(j.a.mark((function e(n,a){var c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a().auth.user.localId,n(Object(p.b)()),e.prev=2,e.next=5,m.a.post("https://phonebook-react-default-rtdb.firebaseio.com/users/".concat(c,"/contacts.json"),t);case 5:(r=e.sent).data&&n(Object(p.c)(Object(d.a)({id:r.data.name},t))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),n(Object(p.a)(e.t0));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}()}},A=Object(i.b)((function(t){return{contacts:v(t),filter:x(t)}}),_)(w),S=(n(92),{filterContact:p.g}),z=Object(i.b)((function(t){return{filter:x(t)}}),S)((function(t){var e=t.filter,n=t.filterContact;return Object(y.jsx)("div",{className:"filter_container",children:Object(y.jsxs)("label",{className:"filter_label",children:["Filter",Object(y.jsx)("input",{className:"filter_input",type:"text",name:"filter",placeholder:"Find contacts by name",value:e,onChange:n})]})})})),J=n(101),L=(n(93),Object(i.b)((function(t,e){var n=N(t,e.id);return Object(d.a)({},n)}),(function(t,e){return{deleteContact:function(){return t((n=e.id,function(){var t=Object(f.a)(j.a.mark((function t(e,a){var c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=a().auth.user.localId,e(Object(p.e)()),t.prev=2,t.next=5,m.a.delete("https://phonebook-react-default-rtdb.firebaseio.com//users/".concat(c,"/contacts/").concat(n,".json"));case 5:e(Object(p.f)(n)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),e(Object(p.d)(t.t0));case 11:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e,n){return t.apply(this,arguments)}}()));var n}}}))((function(t){var e=t.name,n=t.number,a=t.deleteContact;return Object(y.jsxs)("li",{className:"contact",children:[Object(y.jsx)("h4",{children:e}),Object(y.jsx)("p",{className:"contact_number",children:n}),Object(y.jsx)("button",{className:"delete_button",type:"button",onClick:a,children:Object(y.jsx)("i",{className:"fa fa-trash","aria-hidden":"true"})})]})}))),F=(n(94),Object(i.b)((function(t){return{contacts:C(t)}}))((function(t){var e=t.contacts;return Object(y.jsx)(J.a,{component:"ul",className:"contact_list",children:e.map((function(t){var e=t.id;return Object(y.jsx)(u.a,{classNames:"list_item",timeout:250,children:Object(y.jsx)(L,{id:e})},e)}))})}))),I=(n(95),function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){var t;Object(a.a)(this,n);for(var c=arguments.length,r=new Array(c),o=0;o<c;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={animation:!1},t}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.onGetContacts(),this.setState((function(t){return{animation:!t.animation}}))}},{key:"render",value:function(){return Object(y.jsxs)("div",{className:"app_container",children:[Object(y.jsx)(u.a,{in:!0,appear:!0,classNames:"title_slider",timeout:500,unmountOnExit:!0,children:Object(y.jsx)("h1",{className:"app_title",children:"Phonebook"})}),Object(y.jsx)("section",{className:"section",children:Object(y.jsx)(A,{})}),Object(y.jsx)(u.a,{in:this.props.contacts.length>1,classNames:"filter_animation",timeout:250,unmountOnExit:!0,children:Object(y.jsx)("section",{className:"section",children:Object(y.jsx)(z,{})})}),Object(y.jsx)(F,{}),Object(y.jsx)(l.a,{autoClose:2500,position:"top-right",type:"error"})]})}}]),n}(s.Component)),Z={onGetContacts:function(){return function(){var t=Object(f.a)(j.a.mark((function t(e,n){var a,c,r,o,s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n().auth.user,c=a.localId,r=a.idToken,e(Object(p.i)()),i=r,m.a.defaults.params={auth:i},t.prev=3,t.next=6,m.a.get("https://phonebook-react-default-rtdb.firebaseio.com/users/".concat(c,"/contacts.json"));case 6:(o=t.sent).data&&(s=Object.keys(o.data).map((function(t){return Object(d.a)({id:t},o.data[t])})),e(Object(p.j)(s))),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),e(Object(p.h)(t.t0));case 13:case"end":return t.stop()}var i}),t,null,[[3,10]])})));return function(e,n){return t.apply(this,arguments)}}()}};e.default=Object(i.b)((function(t){return{contacts:v(t)}}),Z)(I)}}]);
//# sourceMappingURL=Contacts.877f4dcc.chunk.js.map